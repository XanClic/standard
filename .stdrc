$tabstop = 8

hi error bold, termbg: 1

hi tabbar underline
hi tab_active_inner bold
hi tab_active_outer bold
hi tab_inactive_inner underline
hi tab_inactive_outer underline

hi linenr bold
hi statusbar bold

hi placeholder_empty termfg: 4
hi placeholder_line termfg: 3

def backspace_pressed
    if Buffer.active.x > 0
        i [LEFT, DEL]
    elsif Buffer.active.y > 0
        Buffer.active.y -= 1
        Buffer.active.x = Buffer.active.lines[Buffer.active.y].length
        Buffer.active.delete(1)
    end
end

nmap BS => [LEFT]
imap BS => :backspace_pressed

nmap T.c     => ":tabnew\n"
nmap LEFT.c  => ":tabprevious\n"
nmap RIGHT.c => ":tabnext\n"

nmap O   => ['i'.bytes, KEND, "\n".bytes].flatten
nmap O.s => ['i'.bytes, HOME, "\n".bytes, UP].flatten

def wheel_up
    scroll(-3)
end

def wheel_down
    scroll(3)
end

mbdmap MBUTTON_WHEEL_UP   => :wheel_up
mbdmap MBUTTON_WHEEL_DOWN => :wheel_down
